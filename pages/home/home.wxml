<!--pages/home/home.wxml-->
<!-- 自定义导航栏 -->
<view class="custom-navbar">
  <view class="navbar-content" style="padding-top: {{statusBarHeight}}px;">
    <image src="/images/logo.png" mode="aspectFit" class="navbar-logo"></image>
  </view>
</view>

<scroll-view class="container" scroll-y bindscrolltolower="loadMore" style="padding-top: {{navBarHeight}}px;">
  <!-- Banner 轮播 -->

  <view class="banner">
    <image src="{{banners[0].image}}" mode="aspectFill" class="banner-image"></image>
  </view>

  <!-- 金刚位 -->
  <view class="icon-nav">
    <view class="nav-item" wx:for="{{navItems}}" wx:key="id" bindtap="onNavTap" data-id="{{item.id}}">
      <view class="nav-icon">
        <image src="{{item.icon}}" mode="aspectFit" class="nav-icon-img"></image>
      </view>
      <text class="nav-text">{{item.name}}</text>
    </view>
  </view>

  <!-- 视频列表 -->
  <view class="video-section">
    <!-- 分类标签 -->
    <scroll-view class="category-tabs" scroll-x enable-flex>
      <view class="category-item {{activeCategory === item.id ? 'active' : ''}}" 
            wx:for="{{categories}}" 
            wx:key="id" 
            bindtap="onCategoryTap" 
            data-id="{{item.id}}">
        {{item.name}}
      </view>
    </scroll-view>
    
    <view class="video-list">
      <view class="video-item" wx:for="{{videos}}" wx:key="id" bindtap="onVideoTap" data-id="{{item.id}}">
        <image src="{{item.cover}}" mode="aspectFill" class="video-cover"></image>
        <view class="video-info">
          <text class="video-title">{{item.title}}</text>
          <view class="video-meta">
            <view class="video-author">
              <image src="{{item.avatar}}" mode="aspectFill" class="author-avatar"></image>
              <text class="author-name">{{item.author}}</text>
            </view>
            <view class="video-likes">
              <image src="/images/like.png" mode="aspectFit" class="like-icon"></image>
              <text class="likes-count">{{item.likes}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
    
    <!-- 加载状态 -->
    <view class="loading-status" wx:if="{{loading}}">
      <text>加载中...</text>
    </view>
    <view class="loading-status" wx:if="{{!hasMore && videos.length > 0}}">
      <text>没有更多了</text>
    </view>
  </view>
</scroll-view>

