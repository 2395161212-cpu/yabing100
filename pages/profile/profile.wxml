<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- 用户信息区域 -->
  <view class="user-info-section">
    <view class="user-info">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="cover" show-menu-by-longpress="{{false}}"></image>
      <view class="user-detail">
        <text class="nickname">{{hasUserInfo ? userInfo.nickName : '未登录'}}</text>
        <text class="user-id" wx:if="{{hasUserInfo && userInfo.city}}">{{userInfo.city}} · 微信用户</text>
        <text class="user-id" wx:elif="{{hasUserInfo}}">微信用户</text>
        <text class="user-id" wx:else>点击下方按钮登录</text>
      </view>
    </view>
    <button wx:if="{{!hasUserInfo}}" class="login-btn" bindtap="getUserProfile">
      微信授权登录
    </button>
  </view>

  <!-- 功能菜单列表 -->
  <view class="menu-section">
    <view class="menu-group">
      <view class="menu-item" bindtap="navigateToLogs">
        <view class="menu-item-left">
          <text class="menu-icon">📝</text>
          <text class="menu-title">启动日志</text>
        </view>
        <text class="menu-arrow">›</text>
      </view>
      <view class="menu-item" bindtap="onMenuClick" data-type="orders">
        <view class="menu-item-left">
          <text class="menu-icon">📦</text>
          <text class="menu-title">我的订单</text>
        </view>
        <text class="menu-arrow">›</text>
      </view>
      <view class="menu-item" bindtap="onMenuClick" data-type="favorites">
        <view class="menu-item-left">
          <text class="menu-icon">⭐</text>
          <text class="menu-title">我的收藏</text>
        </view>
        <text class="menu-arrow">›</text>
      </view>
    </view>

    <view class="menu-group">
      <view class="menu-item" bindtap="onMenuClick" data-type="settings">
        <view class="menu-item-left">
          <text class="menu-icon">⚙️</text>
          <text class="menu-title">设置</text>
        </view>
        <text class="menu-arrow">›</text>
      </view>
      <view class="menu-item" bindtap="onMenuClick" data-type="about">
        <view class="menu-item-left">
          <text class="menu-icon">ℹ️</text>
          <text class="menu-title">关于</text>
        </view>
        <text class="menu-arrow">›</text>
      </view>
    </view>

    <!-- 退出登录按钮 -->
    <view class="menu-group" wx:if="{{hasUserInfo}}">
      <view class="menu-item" bindtap="logout">
        <view class="menu-item-left">
          <text class="menu-icon">🚪</text>
          <text class="menu-title logout-text">退出登录</text>
        </view>
        <text class="menu-arrow">›</text>
      </view>
    </view>
  </view>

  <!-- 版本信息 -->
  <view class="version-info">
    <text class="version-text">版本号：v1.0.0</text>
  </view>
</view>

